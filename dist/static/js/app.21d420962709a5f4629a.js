webpackJsonp([1],{"3v0O":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.280c9b1.png"},"7zck":function(e,t){},Fp40:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,s=a("7+uW"),n=a("fZjL"),i=a.n(n),l=window.location.protocol+"//"+window.location.host+"/api/",c=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],m=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u={generarURL:function(e){return l+e},obtenerClaves:function(e){return e.map(function(e){return e[i()(e)[0]]})},obtenerValores:function(e){return e.map(function(e){return e.numeroVisitas})},obtenerValoresPagos:function(e){return e.map(function(e){return parseInt(e.total)})},cambiarDiaSemana:function(e){for(var t=0;t<e.length;t++){var a=e[t].numeroDia;e[t].dia=c[a-1]}return e},cambiarNumeroANombreMes:function(e){for(var t=0;t<e.length;t++){var a=e[t].mes;e[t].mes=m[a-1]}return e}};o=[{title:"Recepción",icon:"mdi mdi-table-edit",link:"/recepcion"},{title:"Miembros",icon:"mdi-weight-lifter",link:"/miembros"},{title:"Generar Reporte de pagos",icon:"mdi-account-cash",link:"/pagos"},{title:"Mi perfil",icon:"mdi-account-key",link:"/perfil"}],r=[{title:"Inicio",icon:"mdi-view-dashboard",link:"/"},{title:"Recepción",icon:"mdi mdi-table-edit",link:"/recepcion"},{title:"Usuarios",icon:"mdi-account-box",link:"/usuarios"},{title:"Miembros",icon:"mdi-weight-lifter",link:"/miembros"},{title:"Membresías",icon:"mdi-wallet-membership",link:"/membresias"},{title:"Pagos",icon:"mdi-account-cash",link:"/pagos"},{title:"Visitas",icon:"mdi-calendar-star",link:"/visitas"},{title:"Configurar",icon:"mdi-cog",link:"/configurar"},{title:"Mi perfil",icon:"mdi-account-key",link:"/perfil"}];var d={name:"Encabezado",data:function(){return{drawer:!1,nombreUsuario:"",rolUsuario:"",nombreGimnasio:"",logo:"",items:[]}},mounted:function(){this.nombreUsuario=localStorage.getItem("nombreUsuario"),this.rolUsuario=localStorage.getItem("rolUsuario"),this.nombreGimnasio=localStorage.getItem("nombreGimnasio"),this.logo=localStorage.getItem("logoGimnasio"),this.items="RECEPCIONISTA"==this.rolUsuario?o:r},methods:{salir:function(){localStorage.removeItem("logeado"),localStorage.removeItem("nombreUsuario"),localStorage.removeItem("idUsuario"),localStorage.removeItem("rolUsuario"),window.location.reload()},urlImagen:function(e){return u.generarURL(e)}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{staticClass:"flex-grow-0",attrs:{color:"#206336",app:"",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",[e._v("\n      Sistema Gimnasio\n    ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:e.salir}},[a("v-icon",[e._v("logout")])],1)],1),e._v(" "),a("v-navigation-drawer",{attrs:{app:"",color:"#206336"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h6 white--text"},[a("v-avatar",[a("img",{attrs:{src:e.urlImagen(e.logo),alt:"Logo"}})]),e._v("\n          "+e._s(e.nombreGimnasio)+"\n          ")],1),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-h6 white--text"},[e._v(" "+e._s(e.nombreUsuario.toUpperCase())+" ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-h6 white--text"},[e._v(" "+e._s(e.rolUsuario.toLowerCase())+" ")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,function(t){return a("v-list-item",{key:t.title,staticClass:"white--text",attrs:{link:"",to:t.link}},[a("v-list-item-icon",[a("v-icon",{staticClass:"white--text"},[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}),1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")(d,v,!1,function(e){a("3v0O")},null,null).exports,b=a("Xxa5"),f=a.n(b),p=a("mvHQ"),h=a.n(p),_=a("exGp"),x=a.n(_),C=window.location.protocol+"//"+window.location.host+"/api/";console.log(C);var M={registrar:function(e,t){var a=this;return x()(f.a.mark(function o(){var r,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(C+t,{method:"post",body:h()(e)});case 2:return r=a.sent,a.next=5,r.json();case 5:return s=a.sent,a.abrupt("return",s);case 7:case"end":return a.stop()}},o,a)}))()},obtenerConDatos:function(e,t){var a=this;return x()(f.a.mark(function o(){var r,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(C+t,{method:"post",body:h()(e)});case 2:return r=a.sent,a.next=5,r.json();case 5:return s=a.sent,a.abrupt("return",s);case 7:case"end":return a.stop()}},o,a)}))()},obtener:function(e){var t=this;return x()(f.a.mark(function a(){var o,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(C+e);case 2:return o=t.sent,t.next=5,o.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},a,t)}))()},eliminar:function(e,t){var a=this;return x()(f.a.mark(function o(){var r,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(C+e,{method:"post",body:h()(t)});case 2:return r=a.sent,a.next=5,r.json();case 5:return s=a.sent,a.abrupt("return",s);case 7:case"end":return a.stop()}},o,a)}))()}},k={name:"Login",data:function(){return{usuario:"",password:"",mensaje:{texto:"",color:""},mostrarMensaje:!1}},methods:{iniciarSesion:function(){var e=this;if(!this.usuario)return this.mostrarMensaje=!0,this.mensaje.texto="Debes colocar el usuario",void(this.mensaje.color="warning");if(!this.password)return this.mostrarMensaje=!0,this.mensaje.texto="Debes colocar la contraseña",void(this.mensaje.color="warning");var t={metodo:"login",usuario:{usuario:this.usuario,password:this.password}};M.obtenerConDatos(t,"usuarios.php").then(function(t){t&&e.$emit("logeado",t)})}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fondo"},[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"100%"}},[a("v-toolbar",{attrs:{dark:"",color:"#206336"}},[a("v-toolbar-title",[e._v("Iniciar sesión")])],1),e._v(" "),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"usuario","prepend-icon":"person",name:"usuario",label:"Usuario",type:"text"},model:{value:e.usuario,callback:function(t){e.usuario=t},expression:"usuario"}}),e._v(" "),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Contraseña",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{staticStyle:{color:"aliceblue"},attrs:{color:"#206336",width:"100%"},on:{click:e.iniciarSesion}},[e._v("Ingresar")])],1),e._v(" "),a("v-card-text",{staticClass:"py-2 text-center"},[e._v("\n            "+e._s((new Date).getFullYear())+" — Desarrollado por "),a("a",{attrs:{href:"https://cyberstaffstore.com/",target:"_blank"}},[e._v("Cyber Staff C.A | Click para soporte")])])],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")])],1)],1)},staticRenderFns:[]};var w=a("VU/8")(k,P,!1,function(e){a("qAis")},null,null).exports,R={name:"CambiarPassword",data:function(){return{mostrarMensaje:!1,mensaje:{texto:"",color:""},formValido:!1,mostrarPasswordActual:!1,mostrarNueva:!1,mostrarRepetida:!1,passwordActual:"",nuevaPassword:"",repitePassword:"",rules:{required:function(e){return!!e||"Debes colocar este dato."},min:function(e){return e.length>=8||"Mínimo 8 caracteres"}}}},methods:{cambiar:function(){var e=this;return x()(f.a.mark(function t(){var a,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.verificarPasswordActual();case 2:if(a=t.sent,console.log(a),a){t.next=8;break}return e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña actual ingresada es incorrecta",color:"error"},t.abrupt("return");case 8:if(e.nuevaPassword===e.repitePassword){t.next=12;break}return e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña repetida debe coincidir con la nueva",color:"error"},t.abrupt("return");case 12:o={metodo:"cambiar_pass",idUsuario:localStorage.getItem("idUsuario"),password:e.repitePassword},M.registrar(o,"usuarios.php").then(function(t){t&&(e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña se ha actualizado. Debes iniciar sesión de nuevo",color:"success"},localStorage.removeItem("logeado"),window.location.reload())});case 14:case"end":return t.stop()}},t,e)}))()},verificarPasswordActual:function(){var e=this;return x()(f.a.mark(function t(){var a,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={metodo:"verifica_pass",password:e.passwordActual,id:localStorage.getItem("idUsuario")},t.next=3,M.obtenerConDatos(a,"usuarios.php");case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}},t,e)}))()}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Cambiar contraseña")]),e._v(" "),a("v-form",{ref:"form",model:{value:e.formValido,callback:function(t){e.formValido=t},expression:"formValido"}},[a("v-card",{staticClass:"mx-auto",attrs:{elevation:"5"}},[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":e.mostrarPasswordActual?"mdi-eye":"mdi-eye-off",type:e.mostrarPasswordActual?"text":"password",name:"input-10-1",label:"Contraseña actual",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(t){e.mostrarPasswordActual=!e.mostrarPasswordActual}},model:{value:e.passwordActual,callback:function(t){e.passwordActual=t},expression:"passwordActual"}}),e._v(" "),a("v-text-field",{attrs:{"append-icon":e.mostrarNueva?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.mostrarNueva?"text":"password",name:"input-10-1",label:"Contraseña nueva",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(t){e.mostrarNueva=!e.mostrarNueva}},model:{value:e.nuevaPassword,callback:function(t){e.nuevaPassword=t},expression:"nuevaPassword"}}),e._v(" "),a("v-text-field",{attrs:{"append-icon":e.mostrarRepetida?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.mostrarRepetida?"text":"password",name:"input-10-1",label:"Repite la nueva contraseña",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(t){e.mostrarRepetida=!e.mostrarRepetida}},model:{value:e.repitePassword,callback:function(t){e.repitePassword=t},expression:"repitePassword"}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.formValido},on:{click:e.cambiar}},[e._v("\n          Registrar\n        ")])],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")])],1)},staticRenderFns:[]},E=a("VU/8")(R,S,!1,null,null,null).exports,D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{staticClass:"mt-5",attrs:{padless:""}},[t("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[t("v-card-text",{staticClass:"py-2 text-center"},[this._v("\n      "+this._s((new Date).getFullYear())+" — Desarrollado por "),t("a",{attrs:{href:"https://cyberstaffstore.com/",target:"_blank"}},[this._v("Cyber Staff C.A | Click para soporte")])])],1)],1)},staticRenderFns:[]},j={name:"App",components:{Encabezado:g,Login:w,CambiarPassword:E,PieComponent:a("VU/8")({name:"PieComponent"},D,!1,null,null,null).exports},data:function(){return{logeado:!1,debeCambiarPassword:!1,mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){this.obtenerInformacionNegocio(),this.verificarSesion()&&(this.logeado=!0)},methods:{onLog:function(e){return e.resultado?"cambia"===e.resultado?(this.mostrarMensaje=!0,this.mensaje={texto:"Datos correctos. Por favor cambia tu contraseña",color:"indigo"},this.debeCambiarPassword=!0,this.logeado=!0,void this.establecerUsuario(e.datos.nombreUsuario,e.datos.idUsuario,e.datos.rolUsuario)):void(e.resultado&&(this.logeado=!0,localStorage.setItem("logeado",!0),this.establecerUsuario(e.datos.nombreUsuario,e.datos.idUsuario,e.datos.rolUsuario),this.mostrarMensaje=!0,this.mensaje={texto:"Datos correctos. Bienvenido",color:"success"},"ADMINISTRADOR"==e.datos.rolUsuario&&this.$router.push({name:"InicioComponent"}),"RECEPCIONISTA"==e.datos.rolUsuario&&this.$router.push({name:"Recepcion"}))):(this.mostrarMensaje=!0,void(this.mensaje={texto:"Datos incorrectos, verifica la información",color:"error"}))},verificarSesion:function(){var e=localStorage.getItem("logeado");return e||!1},establecerUsuario:function(e,t,a){localStorage.setItem("nombreUsuario",e),localStorage.setItem("rolUsuario",a),localStorage.setItem("idUsuario",t)},obtenerInformacionNegocio:function(){M.obtenerConDatos({metodo:"obtener"},"ajustes.php").then(function(e){localStorage.setItem("nombreGimnasio",e.nombre),localStorage.setItem("logoGimnasio",e.logo),localStorage.setItem("telefonoGimnasio",e.telefono),localStorage.setItem("direccionGimnasio",e.direccion)})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",[e.logeado?e._e():a("login",{on:{logeado:e.onLog}}),e._v(" "),e.debeCambiarPassword?a("cambiar-password"):e._e(),e._v(" "),e.logeado&&!e.debeCambiarPassword?a("div",[a("encabezado"),e._v(" "),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view"),e._v(" "),a("pie-component")],1)],1)],1):e._e(),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n          "+e._s(e.mensaje.texto)+"\n      ")])],1)],1)},staticRenderFns:[]},U=a("VU/8")(j,y,!1,null,null,null).exports,I=a("/ocq"),V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.titulo)+" membresía")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValido,callback:function(t){e.formValido=t},expression:"formValido"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la membresía",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.membresia.nombre,callback:function(t){e.$set(e.membresia,"nombre",t)},expression:"membresia.nombre"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Días de duración",rules:e.reglas,type:"number",required:"","hide-details":"auto"},model:{value:e.membresia.duracion,callback:function(t){e.$set(e.membresia,"duracion",t)},expression:"membresia.duracion"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Precio",rules:e.reglas,type:"number",required:"","hide-details":"auto"},model:{value:e.membresia.precio,callback:function(t){e.$set(e.membresia,"precio",t)},expression:"membresia.precio"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v(" Cerrar ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.formValido},on:{click:e.registrar}},[e._v("\n      Registrar\n    ")])],1)],1)},staticRenderFns:[]},F=a("VU/8")({name:"FormMembresia",props:["membresia","titulo"],data:function(){return{formValido:!1,reglas:[function(e){return!!e||"Debes colocar este campo."}]}},mounted:function(){this.formValido=!1},methods:{cerrarDialogo:function(){this.$emit("cerrado",!1)},registrar:function(){this.$emit("registrar",this.membresia)}}},V,!1,null,null,null).exports,z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("¿Seguro que deseas eliminar "+e._s(e.nombre)+"?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.eliminar}},[e._v("OK")]),e._v(" "),a("v-spacer")],1)],1)},staticRenderFns:[]},$=a("VU/8")({name:"DialogoEliminar",props:["nombre"],methods:{cerrarDialogo:function(){this.$emit("cancelar",!1)},eliminar:function(){this.$emit("eliminar",!0)}}},z,!1,null,null,null).exports,q={name:"Membresias",components:{FormMembresia:F,DialogoEliminar:$},data:function(){return{cargando:!1,mostrarDialogo:!1,mostrarDialogoEliminar:!1,membresia:{nombre:"",duracion:"",precio:""},membresias:[],mensaje:{texto:"",color:""},mostrarMensaje:!1,encabezadoTabla:[{text:"Membresía",sortable:!0,value:"nombre"},{text:"Duración",value:"duracion"},{text:"Precio",value:"precio"},{text:"Opciones",value:"opciones",sortable:!1}],titulo:"Agregar",itemSeleccionado:""}},mounted:function(){this.obtenerMembresias()},methods:{editar:function(e){this.titulo="Editar",this.membresia=e,this.mostrarDialogo=!0},eliminar:function(e){this.itemSeleccionado=e.nombre,this.membresia=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.membresia={nombre:"",duracion:"",precio:""}},confirmarEliminar:function(){var e=this;this.cargando=!0;var t={metodo:"delete",id:this.membresia.id};M.eliminar("membresias.php",t).then(function(t){t&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Membresía eliminada",e.mensaje.color="success",e.cargando=!1,e.obtenerMembresias())})},onCerrado:function(e){this.membresia={nombre:"",duracion:"",precio:""},this.mostrarDialogo=e,this.titulo="Agregar"},onRegistrar:function(e){var t=this,a="Agregar"===this.titulo?"post":"put";this.membresia=e,this.cargando=!0;var o={metodo:a,membresia:this.membresia};M.registrar(o,"membresias.php").then(function(e){e&&(t.membresia={nombre:"",duracion:"",precio:""},t.mostrarDialogo=!1,t.mostrarMensaje=!0,t.mensaje.texto="Membresía registrada",t.mensaje.color="success",t.cargando=!1,t.obtenerMembresias(),t.titulo="Agregar")})},obtenerMembresias:function(){var e=this;this.cargando=!0;M.obtenerConDatos({metodo:"get"},"membresias.php").then(function(t){e.membresias=t,e.cargando=!1})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),a("h1",[e._v("Membresías")]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.encabezadoTabla,items:e.membresias,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.opciones",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(t){return e.editar(o)}}},[e._v("\n            mdi-pencil\n        ")]),e._v(" "),a("v-icon",{attrs:{color:"red"},on:{click:function(t){return e.eliminar(o)}}},[e._v("\n            mdi-delete\n        ")])]}}],null,!0)}),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),a("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:""},on:{click:function(t){e.mostrarDialogo=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mostrarDialogo,callback:function(t){e.mostrarDialogo=t},expression:"mostrarDialogo"}},[a("form-membresia",{attrs:{membresia:e.membresia,titulo:e.titulo},on:{cerrado:e.onCerrado,registrar:e.onRegistrar}})],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(t){e.mostrarDialogoEliminar=t},expression:"mostrarDialogoEliminar"}},[a("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1)],1)},staticRenderFns:[]},T=a("VU/8")(q,A,!1,null,null,null).exports,O={name:"RealizarPago",props:["matricula","fechaFin"],data:function(){return{membresiaSeleccionada:{id:"",nombre:"",precio:"",duracion:""},fechaSeleccionada:"",estatusUsoFechaNueva:!1,membresias:[],cargando:!1,alert_model:{color:"",text:"",title:"",icono:""},items:["TD | PUNTO","EFECTIVO","DIVISAS","TRANSFERENCIA","PAGO MOVIL","TC | PUNTO","ZELLE","USDT"],valueM1:"",valueM2:"",masMetodo:!1,montoM1:0,montoM2:0,miembro:{}}},mounted:function(){this.obtenerMembresias(),this.miembro=this.getMiembroMatricula(this.matricula)},methods:{getMiembroMatricula:function(e){var t=this,a={metodo:"getMiembroMatricula",busqueda:e};M.obtenerConDatos(a,"miembros.php").then(function(e){t.miembro=e.length?e[0]:{},console.log(t.miembro)})},agregarMonto1:function(){this.montoM1=this.membresiaSeleccionada.precio},agregarMonto2:function(){this.montoM2=this.membresiaSeleccionada.precio-this.montoM1},eliminarMetodo:function(){this.masMetodo=!1},agregarMetodo:function(){this.masMetodo=!0},obtenerMembresias:function(){var e=this;M.obtenerConDatos({metodo:"get"},"membresias.php").then(function(t){e.membresias=t})},cerrarDialogo:function(){this.$emit("cerrar",!1)},realizarPago:function(){var e=this;if(""==this.membresiaSeleccionada.id)return this.alert_model.text="Seleccione membresia",this.alert_model.color="error",this.alert_model.icono="$error",this.alert_model.title="Requerido",setTimeout(function(){e.alert_model.text=""},1500);if(""==this.fechaSeleccionada)return this.alert_model.text="Debe seleccionar una fecha",this.alert_model.color="error",this.alert_model.icono="$error",this.alert_model.title="Requerido",setTimeout(function(){e.alert_model.text=""},1500);var t=[],a=0;if(this.montoM1>0?t+=this.valueM1+":"+this.montoM1:a++,this.montoM2>0&&(t+=" | "+this.valueM2+":"+this.montoM2),a)return this.alert_model.text="Agrege un método de pago",this.alert_model.color="error",this.alert_model.icono="$error",this.alert_model.title="Requerido",setTimeout(function(){e.alert_model.text=""},1500);console.log(this.miembro);var o="";this.estatusUsoFechaNueva?o=this.fechaSeleccionada:(console.log(this.miembro.fechaFin),o=this.miembro.fechaFin?this.miembro.fechaFin:this.fechaSeleccionada);var r={metodo:"pagar",pago:{matricula:this.matricula,pago:this.membresiaSeleccionada.precio,idMembresia:this.membresiaSeleccionada.id,duracion:this.membresiaSeleccionada.duracion,fecha:this.fechaSeleccionada,fechaInicio:o,idUsuario:localStorage.getItem("idUsuario"),metodosDePago:t}};console.log(r),M.registrar(r,"miembros.php").then(function(t){t&&(e.cargando=!1,e.$emit("pagado",t),console.log(t),window.location.reload())}),console.log(r)}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Realizar pago para "+e._s(e.matricula))])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-select",{attrs:{hint:e.membresiaSeleccionada.nombre+", "+e.membresiaSeleccionada.precio,items:e.membresias,"item-text":"nombre","item-value":"id",label:"Selecciona una membresía","persistent-hint":"","return-object":"","single-line":""},model:{value:e.membresiaSeleccionada,callback:function(t){e.membresiaSeleccionada=t},expression:"membresiaSeleccionada"}}),e._v(" "),[a("v-container",{attrs:{fluid:""}},[a("v-checkbox",{attrs:{label:"Usar fecha de pago para la membresía"},model:{value:e.estatusUsoFechaNueva,callback:function(t){e.estatusUsoFechaNueva=t},expression:"estatusUsoFechaNueva"}})],1)],e._v(" "),""!=e.alert_model.text?[a("v-alert",{attrs:{color:e.alert_model.color,icon:e.alert_model.icono,title:e.alert_model.title,closable:""}},[e._v(e._s(e.alert_model.text))])]:e._e(),e._v(" "),a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{attrs:{"first-day-of-week":1,locale:"es-se"},model:{value:e.fechaSeleccionada,callback:function(t){e.fechaSeleccionada=t},expression:"fechaSeleccionada"}})],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols5:""}},[a("v-select",{attrs:{items:e.items,chips:"",label:"Método de pago"},on:{change:e.agregarMonto1},model:{value:e.valueM1,callback:function(t){e.valueM1=t},expression:"valueM1"}})],1),e._v(" "),a("v-col",{attrs:{cols5:""}},[a("v-text-field",{attrs:{clearable:"",label:"Monto"},model:{value:e.montoM1,callback:function(t){e.montoM1=t},expression:"montoM1"}})],1),e._v(" "),a("v-col",{attrs:{cols2:""}},[a("v-btn",{attrs:{variant:"tonal",color:"success"},on:{click:e.agregarMetodo}},[e._v("\n                +\n              ")])],1)],1),e._v(" "),e.masMetodo?[a("v-row",[a("v-col",{attrs:{cols5:""}},[a("v-select",{attrs:{items:e.items,chips:"",label:"Método de pago"},on:{change:e.agregarMonto2},model:{value:e.valueM2,callback:function(t){e.valueM2=t},expression:"valueM2"}})],1),e._v(" "),a("v-col",{attrs:{cols5:""}},[a("v-text-field",{attrs:{clearable:"",label:"Monto"},model:{value:e.montoM2,callback:function(t){e.montoM2=t},expression:"montoM2"}})],1),e._v(" "),a("v-col",{attrs:{cols2:""}},[a("v-btn",{staticClass:"ma-2",attrs:{color:"red"},on:{click:e.eliminarMetodo}},[e._v("\n                    Decline\n                    "),a("v-icon",{attrs:{end:"",icon:"mdi-cancel"}})],1)],1)],1)]:e._e()],2)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("\n        Cerrar\n      ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.realizarPago}},[e._v("\n        Registrar\n      ")])],1)],1),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},staticRenderFns:[]},L=a("VU/8")(O,N,!1,null,null,null).exports,G=a("5OkI"),B=a.n(G),H=(new B.a,{name:"CredencialMiembro",props:["matricula","miembro"],data:function(){return{nombreGimnasio:"",logoGimnasio:"",telefonoGimnasio:"",direccionGimnasio:"",cssText:'\n         .nav{\n            margin-top: 10px;\n            columns: 10px 2;\n            column-gap: 0;\n\n        }\n        .credencial {\n            padding: 10px;\n            width: 300px;\n            height: 400px;\n            border: 1px  solid black;\n            text-align: center;\n            float: left;\n            background-image: linear-gradient(50deg, #c5d0fc 23.53%, #cbe0f2 23.53%, #cbe0f2 50%, #c5d0fc 50%, #c5d0fc 73.53%, #cbe0f2 73.53%, #cbe0f2 100%);\n            background-size: 300px 400px;\n            print-color-adjust: exact;\n            -webkit-print-color-adjust: exact;\n        }\n        .credencial > p{\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n        .nombre{ \n            font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;\n            font-size: 32px;\n            letter-spacing: -3.6px;\n            word-spacing: -1.4px;\n            color: #0824A1;\n            font-weight: 700;\n            text-decoration: none;\n            font-style: normal;\n            font-variant: normal;\n            text-transform: none;\n\n        }\n        \n        .matricula{\n            font-family: "Courier New", Courier, monospace;\n            font-size: 26px;\n            letter-spacing: -1.2px;\n            word-spacing: -5px;\n            color: #7C6D7D;\n            font-weight: 700;\n            text-decoration: none;\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n            \n        }\n\n        .imagen{\n            width: 80px;\n            height: 80px;\n            border-radius: 50%;\n            margin: 0 auto;\n            display: block;\n        }\n        '}},beforeMount:function(){this.nombreGimnasio=localStorage.getItem("nombreGimnasio"),this.logoGimnasio=localStorage.getItem("logoGimnasio"),this.telefonoGimnasio=localStorage.getItem("telefonoGimnasio"),this.direccionGimnasio=localStorage.getItem("direccionGimnasio")},mounted:function(){this.d=new B.a;var e=this.d.getIFrame().contentWindow;e.addEventListener("beforeprint",function(){return console.log("before print event!")}),e.addEventListener("afterprint",function(){return console.log("after print event!")}),this.imprimir()},methods:{urlImagen:function(e){return u.generarURL(e)},imprimir:function(){var e=this,t=document.getElementById("credencial");setTimeout(function(){return e.d.print(t,[e.cssText])},10),this.$emit("impreso",!1)}}}),J={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"credencial"}},[o("div",{staticClass:"credencial"},[o("div",{staticClass:"nav"},[o("div",[o("img",{attrs:{width:"50",src:e.urlImagen(e.logoGimnasio),alt:""}})]),e._v(" "),o("div",[o("b",[e._v(" "+e._s(e.nombreGimnasio))]),e._v(" "),o("p",{staticStyle:{"font-size":"10px"}},[e._v("Tel: "+e._s(e.telefonoGimnasio)+", "+e._s(e.direccionGimnasio)+" ")])])]),e._v(" "),o("p",{staticClass:"nombre"},[e._v(e._s(e.miembro.nombre))]),e._v(" "),o("p",{staticClass:"matricula"},[e._v(e._s(e.miembro.matricula))]),e._v(" "),o("img",{staticClass:"imagen",attrs:{src:e.urlImagen(e.miembro.imagen),alt:""}}),e._v(" "),o("p",[e._v("Teléfono: "),o("b",[e._v(e._s(e.miembro.telefono))])]),e._v(" "),o("p",[e._v("Dirección: "),o("b",[e._v(e._s(e.miembro.direccion))])]),e._v(" "),o("p",[e._v("Miembro desde: "),o("b",[e._v(e._s(e.miembro.fechaRegistro))])])]),e._v(" "),o("div",{staticClass:"credencial"},[o("b",[e._v("En caso de accidente, comunicarse con:")]),e._v(" "),o("p",[e._v("Nombre: "),o("b",[e._v(e._s(e.miembro.nombreContacto))])]),e._v(" "),o("p",[e._v("Teléfono: "),o("b",[e._v(e._s(e.miembro.telefonoContacto))])]),e._v(" "),o("p",[e._v("Enfermedad(es): "),o("b",[e._v(e._s(e.miembro.enfermedad))])]),e._v(" "),o("p",[e._v("Tiene seguro en: "),o("b",[e._v(e._s(e.miembro.institucion))])]),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("pre",[e._v("Sistema para gimnasio por")]),e._v(" "),o("img",{attrs:{src:a("7Otq"),width:"200",alt:"LOGOOOO"}})])])},staticRenderFns:[]};var Q=a("VU/8")(H,J,!1,function(e){a("reXA")},null,null).exports,X={name:"BusquedaMiembro",data:function(){return{cargando:!1,busqueda:"",miembros:[],miembroSeleccionado:{}}},methods:{urlImagen:function(e){return u.generarURL(e)},buscarMiembros:function(e){var t=this;if(e.data){this.busqueda+=e.data;var a={metodo:"obtener_nombre_matricula_cedula",busqueda:this.busqueda};this.cargando=!0,M.obtenerConDatos(a,"miembros.php").then(function(e){t.miembros=e,t.cargando=!1})}this.busqueda=""},customFilter:function(e,t,a){var o=e.nombre.toLowerCase(),r=e.matricula.toString(),s=t.toLowerCase();return o.indexOf(s)>-1||r.indexOf(s)>-1}},watch:{miembroSeleccionado:function(e){this.$emit("seleccionado",e)}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-text",[a("v-autocomplete",{attrs:{items:e.miembros,filter:e.customFilter,color:"indigo",loading:e.cargando,"item-text":"nombre","item-value":"id",clearable:"",label:"Escribe el nombre o la matrícula del miembro","return-object":""},nativeOn:{input:function(t){return e.buscarMiembros.apply(null,arguments)}},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("div",{staticClass:"px-4"},[e._v("\n            No se encontraron resultados con "+e._s(e.busqueda)+"\n          ")])]},proxy:!0},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-item-avatar",[a("img",{attrs:{src:e.urlImagen(t.item.imagen)}})]),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item.nombre)}}),e._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.matricula)}})],1)]]}}]),model:{value:e.miembroSeleccionado,callback:function(t){e.miembroSeleccionado=t},expression:"miembroSeleccionado"}})],1)],1)],1)},staticRenderFns:[]},W=a("VU/8")(X,Y,!1,null,null,null).exports,Z={name:"Miembros",filter:"",components:{RealizarPago:L,DialogoEliminar:$,CredencialMiembro:Q,BusquedaMiembro:W},data:function(){return{encabezadoTabla:[{text:"Imagen",align:"start",sortable:!1,value:"imagen"},{text:"Matrícula",sortable:!0,value:"matricula"},{text:"Nombre",sortable:!0,value:"nombre"},{text:"Cédula",sortable:!0,value:"cedula"},{text:"Teléfono",sortable:!1,value:"telefono"},{text:"Estado",sortable:!0,value:"estado"},{text:"Inicio membresía",sortable:!0,value:"fechaInicio"},{text:"Fin membresía",sortable:!0,value:"fechaFin"},{text:"Membresía",sortable:!0,value:"membresia"},{text:"Opciones",value:"opciones",sortable:!1}],cargando:!1,mostrarMensaje:!1,mensaje:{color:"",texto:""},miembros:[],matriculaSeleccionada:"",mostrarRealizarPago:!1,itemSeleccionado:null,miembro:null,mostrarDialogoEliminar:!1,mostrarCredencial:!1,rolUsuario:""}},mounted:function(){this.obtenerMiembros(),this.rolUsuario=localStorage.getItem("rolUsuario")},methods:{getMiembroFilter:function(e){var t=this;this.cargando=!0;var a={metodo:"getMiembroFilter",busqueda:e};M.obtenerConDatos(a,"miembros.php").then(function(e){console.log(e.length),console.log(e),t.cargando=!1,e.length?t.miembros=e:(t.mensaje.texto="No se halló el miembro en nuestros registros.",t.mensaje.color="error",t.mostrarMensaje=!0),t.filter=""})},generarCredencial:function(e){this.matriculaSeleccionada=e.matricula,this.miembro=e,this.mostrarCredencial=!0},onImpreso:function(e){this.mostrarCredencial=e},eliminar:function(e){this.itemSeleccionado=e.nombre,this.miembro=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.miembro=null},confirmarEliminar:function(){var e=this;this.cargando=!0;var t={metodo:"eliminar",id:this.miembro.id};M.eliminar("miembros.php",t).then(function(t){t&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Miembro eliminado",e.mensaje.color="success",e.cargando=!1,e.obtenerMiembros())})},editar:function(e){this.$router.push({name:"EditarMiembro",params:{id:e}})},urlImagen:function(e){return u.generarURL(e)},cerrarDialogoPago:function(e){this.mostrarRealizarPago=e},realizarPago:function(e){this.matriculaSeleccionada=e,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito"},this.obtenerMiembros())},obtenerMiembros:function(){var e=this;this.cargando=!0;M.obtenerConDatos({metodo:"get"},"miembros.php").then(function(t){e.miembros=t,e.cargando=!1})},estado:function(e){return"ACTIVO"===e?"success":"VENCIDO"===e?"error":"warning"}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Miembros")]),e._v(" "),a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{loading:e.cargando,label:"BUSCAR MIEMBROS POR NOMBRE O CÉDULA"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getMiembroFilter(e.filter)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),a("v-btn",{attrs:{variant:"outlined",color:"warning"},on:{click:function(t){return e.obtenerMiembros()}}},[e._v("\n        VER TODOS LOS MIEMBROS\n      ")])],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.miembros,"item-key":"matricula","show-expand":"","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(t){var o=t.item;return[a("v-avatar",[a("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})])]}},{key:"item.estado",fn:function(t){var o=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:e.estado(o.estado),"text-color":"white"}},[e._v("\n        "+e._s(o.estado)+"\n        "),o.estado?e._e():a("span",[e._v("SIN MEMBRESÍA")])])]}},{key:"item.opciones",fn:function(t){var o=t.item;return[a("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",small:"",fab:"",dark:""},on:{click:function(t){return e.editar(o.id)}}},"v-btn",s,!1),r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[e._v(" "),a("span",[e._v("Editar")])]),e._v(" "),"ADMINISTRADOR"==e.rolUsuario?[a("v-tooltip",{attrs:{bottom:"",color:"error"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"error",small:"",fab:"",dark:""},on:{click:function(t){return e.eliminar(o)}}},"v-btn",s,!1),r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),a("span",[e._v("Eliminar")])])]:e._e(),e._v(" "),a("v-tooltip",{attrs:{bottom:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"secondary",small:"",fab:"",dark:""},on:{click:function(t){return e.generarCredencial(o)}}},"v-btn",s,!1),r),[a("v-icon",[e._v("mdi-card-account-details")])],1)]}}],null,!0)},[e._v(" "),a("span",[e._v("Generar credencial")])]),e._v(" "),o.estado&&"VENCIDO"!==o.estado?e._e():a("v-tooltip",{attrs:{bottom:"",color:"success"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"success",small:"",fab:"",dark:""},on:{click:function(t){return e.realizarPago(o.matricula)}}},"v-btn",s,!1),r),[a("v-icon",[e._v("mdi-wallet-membership")])],1)]}}],null,!0)},[e._v(" "),a("span",[e._v("Realizar pago")])])]}},{key:"expanded-item",fn:function(t){var o=t.headers,r=t.item;return[a("td",{attrs:{colspan:o.length}},[e._v("\n        Más información de "),a("b",[e._v(e._s(r.nombre))]),e._v(" "),a("v-simple-table",{attrs:{height:"200px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-map-marker ")]),e._v(" "),a("b",[e._v("Dirección: ")]),e._v(e._s(r.direccion)+" ")],1)]),e._v(" "),a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-calendar ")]),e._v(" "),a("b",[e._v("Miembro desde: ")]),e._v(e._s(r.fechaRegistro)+" ")],1)]),e._v(" "),a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-calendar-account ")]),e._v(" "),a("b",[e._v("Edad: ")]),e._v(e._s(r.edad)+" ")],1)]),e._v(" "),a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-account ")]),e._v(" "),a("b",[e._v("En accidente comunicarse con: ")]),e._v(e._s(r.nombreContacto)+", "),a("b",[e._v("Teléfono:")]),e._v(" "+e._s(r.telefonoContacto))],1)]),e._v(" "),a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-mother-heart ")]),e._v(" "),a("b",[e._v("Enfermedades crónicas: ")]),e._v(e._s(r.enfermedad)+" ")],1)]),e._v(" "),a("tr",[a("td",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-hospital-building ")]),e._v(" "),a("b",[e._v("Seguro en : ")]),e._v(e._s(r.institucion)+" ")],1)])])]},proxy:!0}],null,!0)})],1)]}}],null,!0)}),e._v(" "),a("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:"",to:"/nuevo-miembro"}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(t){e.mostrarRealizarPago=t},expression:"mostrarRealizarPago"}},[a("realizar-pago",{attrs:{matricula:e.matriculaSeleccionada},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(t){e.mostrarDialogoEliminar=t},expression:"mostrarDialogoEliminar"}},[a("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1),e._v(" "),e.mostrarCredencial?a("credencial-miembro",{attrs:{matricula:e.matriculaSeleccionada,miembro:e.miembro},on:{impreso:e.onImpreso}}):e._e(),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")]),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(Z,K,!1,function(e){a("Fp40")},null,null).exports,te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"row"},e._l(e.cartas,function(t,o){return a("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[a("div",{staticClass:"\n          v-card--material\n          pa-3\n          v-card--material-stats\n          v-card v-sheet\n          theme--light\n          v-card--material--has-heading\n        "},[a("div",{staticClass:"d-flex grow flex-wrap"},[a("div",{staticClass:"\n              text-start\n              v-card--material__heading\n              mb-n6\n              v-sheet\n              elevation-6\n              pa-7\n            ",class:t.color,staticStyle:{"max-height":"70px",width:"auto"}},[a("v-icon",{attrs:{large:"",color:"white"}},[e._v("\n              "+e._s(t.icono)+"\n            ")])],1),e._v(" "),a("div",{staticClass:"ml-6"},[a("div",{staticClass:"ml-auto text-right"},[a("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                "+e._s(t.nombre)+"\n              ")]),e._v(" "),a("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v("\n                "+e._s(t.total)+"\n                "),a("small")])])])])])])}),0)])},staticRenderFns:[]},ae=a("VU/8")({name:"CartasPersonalizadas",props:["cartas"]},te,!1,null,null,null).exports,oe=new Date,re={name:"BusquedaMiembro",components:{RealizarPago:L,CartasPersonalizadas:ae},data:function(){return{fechaActual:oe.getFullYear()+"-"+(oe.getMonth()+1)+"-"+oe.getDate(),cargando:!1,busqueda:"",cedula:"",miembros:[],miembroSeleccionado:{},matriculaSeleccionada:"",mostrarMensaje:!1,mensaje:{color:"",texto:""},mostrarRealizarPago:!1,etiquetasVisitasHora:[],valoresVisitasHora:[],etiquetasVisitasSemana:[],valoresVisitasSemana:[],etiquetasVisitasMes:[],valoresVisitasMes:[]}},mounted:function(){this.obtenerDatos()},methods:{obtenerDatos:function(){var e=this;this.cargando=!0,M.obtenerConDatos({metodo:"obtener"},"inicio.php").then(function(t){e.crearCartas(t.datosVisitas,t.datosPagos),e.cargando=!1})},crearCartas:function(e,t){this.datosVisitas=[{color:"pink darken-1",icono:"mdi-calendar",nombre:"Visitas hoy",total:e.visitasHoy}]},registrarVisitaRegular:function(e){var t=this;this.cargando=!0,M.registrar({metodo:"registrar_regular",visita:{idUsuario:localStorage.getItem("idUsuario"),miembro:e}},"visitas.php").then(function(e){e&&(t.cargando=!1,t.obtenerDatos(),t.mostrarMensaje=!0,t.mensaje={texto:"Visita registrada",color:"success"})})},eliminarVisitaRegular:function(e){var t=this;console.log(e),console.log(e.id),this.cargando=!0,M.eliminar("visitas.php",{metodo:"eliminar_visita",data:e.id}).then(function(e){e&&(console.log(e),t.cargando=!1,t.mostrarMensaje=e,t.mensaje={texto:"Visita eliminada",color:"success"},t.obtenerDatos())})},limpiarRecepcion:function(){this.cargando=!1,this.busqueda="",this.miembros=[],this.miembroSeleccionado={},this.matriculaSeleccionada="",this.mostrarMensaje=!1,this.mensaje={color:"",texto:""},this.mostrarRealizarPago=!1},urlImagen:function(e){return u.generarURL(e)},cerrarDialogoPago:function(e){this.mostrarRealizarPago=e},realizarPago:function(e){this.matriculaSeleccionada=e,this.mostrarRealizarPago=!0},onPagado:function(e){var t=this;return x()(f.a.mark(function a(){return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e&&(t.mostrarRealizarPago=!1,t.mostrarMensaje=!0,t.fechaActual>t.miembroSeleccionado.fechaFin&&(t.miembroSeleccionado.estado="VENCIDO"),t.getMiembro(t.miembroSeleccionado.cedula,!1),console.log(t.miembroSeleccionado),t.miembroSeleccionado.estado="ACTIVO",t.mensaje={color:"success",texto:"Pago realizado con éxito"});case 1:case"end":return a.stop()}},a,t)}))()},estado:function(e){return"ACTIVO"===e?"success":"VENCIDO"===e?"error":"warning"},getMiembro:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.cargando=!0;var o={metodo:"getMiembro",busqueda:e};M.obtenerConDatos(o,"miembros.php").then(function(e){console.log(e.length),t.cargando=!1,t.miembroSeleccionado=e.length?e[0]:{},t.cedula="",0!=e.length&&a&&t.registrarVisitaRegular(t.miembroSeleccionado)})},buscarMiembros:function(e){var t=this;if(e.data){this.busqueda+=e.data;var a={metodo:"obtener_nombre_matricula_cedula",busqueda:this.busqueda};this.cargando=!0,M.obtenerConDatos(a,"miembros.php").then(function(e){t.miembros=e,t.cargando=!1})}this.busqueda="",this.miembros=[]},customFilter:function(e,t,a){var o=e.nombre.toLowerCase(),r=e.matricula.toString(),s=e.cedula.toString(),n=t.toLowerCase();return o.indexOf(n)>-1||r.indexOf(n)>-1||s.indexOf(n)>-1}},watch:{miembroSeleccionado:function(e){this.$emit("seleccionado",e)}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Recepción")]),e._v(" "),a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{loading:e.cargando,label:"INGRESE NÚMERO DE CÉDULA O ESCANEÉ EL QR"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getMiembro(e.cedula)}},model:{value:e.cedula,callback:function(t){e.cedula=t},expression:"cedula"}})],1)],1),e._v(" "),void 0!==e.miembroSeleccionado.id?[a("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",title:"Datos Prosonales"}},[a("v-card-title",[a("img",{staticClass:"img",attrs:{src:e.urlImagen(e.miembroSeleccionado.imagen),width:"75"}}),e._v("\n            "+e._s(e.miembroSeleccionado.nombre)+"\n          ")]),e._v(" "),a("v-card-title",[e._v("\n            Cédula: "+e._s(e.miembroSeleccionado.cedula)+" "),a("br"),e._v("\n            Teléfono: "+e._s(e.miembroSeleccionado.telefono)+" "),a("br"),e._v("\n            Dirección: "+e._s(e.miembroSeleccionado.direccion)+" "),a("br")])],1)],1),e._v(" "),a("v-col",{attrs:{cols:"auto"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",title:"Datos Membresia"}},[a("v-card-title",[e._v("\n            "+e._s(e.miembroSeleccionado.membresia?e.miembroSeleccionado.membresia:"No poseé membresia")+"\n          ")]),e._v(" "),a("v-card-title",[e._v("\n            Fecha de incio: "+e._s(e.miembroSeleccionado.fechaInicio)+" "),a("br"),e._v("\n            Fecha de vencimiento: "+e._s(e.miembroSeleccionado.fechaFin)+" "),a("br"),e._v(" "),a("v-btn",{staticClass:"mx-2",staticStyle:{width:"200px","font-size":"16px"},attrs:{inline:"",color:e.estado(e.miembroSeleccionado.estado),rounded:"xl",size:"x-large"},on:{click:function(t){return e.realizarPago(e.miembroSeleccionado.matricula)}}},[e._v("\n              "+e._s(e.miembroSeleccionado.estado?e.miembroSeleccionado.estado:"Agregar membresia")+"\n            ")])],1)],1)],1),e._v(" "),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{inline:"",color:"warning",rounded:"xl",size:"x-large"},on:{click:function(t){return e.limpiarRecepcion()}}},[e._v("\n          Limpiar\n        ")])],1)],1)]:[a("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",title:"Datos Prosonales"}},[a("v-card-title",[e._v("\n            No hay resultados\n          ")])],1)],1)],1)],e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(t){e.mostrarRealizarPago=t},expression:"mostrarRealizarPago"}},[a("realizar-pago",{attrs:{matricula:e.matriculaSeleccionada},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")]),e._v(" "),a("cartas-personalizadas",{attrs:{cartas:e.datosVisitas}})],2)},staticRenderFns:[]},ne=a("VU/8")(re,se,!1,null,null,null).exports,ie=a("Dd8w"),le=a.n(ie),ce={name:"FormMiembro",props:["miembro"],data:function(){return{formDatosPersonales:!1,formDatosContacto:!1,reglasForm:[function(e){return!!e||"Debes colocar este campo."}],reglaImagen:[function(e){return!e||e.size<5e6||"La foto debe pesar menos de 5 MB!"}],e6:1,imagen:null,imagenUrl:null,datosPersonales:{nombre:"",cedula:"",telefono:"",direccion:"",edad:0},datosContacto:{sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""}}},mounted:function(){this.formDatosPersonales=!1,this.formDatosContacto=!1},methods:{registrar:function(){var e=le()({},this.datosPersonales,this.datosContacto,{imagen:this.imagenUrl});this.$emit("registrado",e),console.log(e),this.formDatosPersonales=!1,this.formDatosContacto=!1,this.e6=1,this.imagen=null,this.imagenUrl=null,this.datosPersonales={nombre:"",cedula:"",telefono:"",direccion:"",edad:10},this.datosContacto={sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""}},crearImagen:function(e){var t=this,a=new FileReader;a.onload=function(e){t.imagenUrl=e.target.result},a.readAsDataURL(e)},onSeleccionarImagen:function(){this.imagen&&this.crearImagen(this.imagen)}},watch:{miembro:{deep:!0,handler:function(){this.datosPersonales=this.miembro.datosPersonales,this.datosContacto=this.miembro.datosContacto,this.imagenUrl=u.generarURL(this.miembro.imagen)}}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v("\n      Datos personales\n      "),a("small",[e._v("Escribe los datos del miembro")])]),e._v(" "),a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form",model:{value:e.formDatosPersonales,callback:function(t){e.formDatosPersonales=t},expression:"formDatosPersonales"}},[a("v-card",{staticClass:"mb-12"},[a("v-text-field",{attrs:{label:"Nombre completo",rules:e.reglasForm},model:{value:e.datosPersonales.nombre,callback:function(t){e.$set(e.datosPersonales,"nombre",t)},expression:"datosPersonales.nombre"}}),e._v(" "),a("v-text-field",{attrs:{label:"Cédula",rules:e.reglasForm},model:{value:e.datosPersonales.cedula,callback:function(t){e.$set(e.datosPersonales,"cedula",t)},expression:"datosPersonales.cedula"}}),e._v(" "),a("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datosPersonales.telefono,callback:function(t){e.$set(e.datosPersonales,"telefono",t)},expression:"datosPersonales.telefono"}}),e._v(" "),a("v-text-field",{attrs:{label:"Dirección",rules:e.reglasForm},model:{value:e.datosPersonales.direccion,callback:function(t){e.$set(e.datosPersonales,"direccion",t)},expression:"datosPersonales.direccion"}}),e._v(" "),a("v-text-field",{attrs:{label:"Edad",rules:e.reglasForm},model:{value:e.datosPersonales.edad,callback:function(t){e.$set(e.datosPersonales,"edad",t)},expression:"datosPersonales.edad"}})],1),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.formDatosPersonales},on:{click:function(t){e.e6=2}}},[e._v("\n          Continuar\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",to:"/miembros"}},[e._v(" Cancelar ")])],1)],1),e._v(" "),a("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v("\n      Datos de contacto\n      "),a("small",[e._v("Escribe los siguientes datos en caso de que algun accidente\n        ocurra")])]),e._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",model:{value:e.formDatosContacto,callback:function(t){e.formDatosContacto=t},expression:"formDatosContacto"}},[a("v-card",{staticClass:"mb-12"},[a("v-switch",{attrs:{label:"¿Sufre alguna enfermedad crónica?"},model:{value:e.datosContacto.sufreEnfermedad,callback:function(t){e.$set(e.datosContacto,"sufreEnfermedad",t)},expression:"datosContacto.sufreEnfermedad"}}),e._v(" "),e.datosContacto.sufreEnfermedad?a("v-text-field",{attrs:{label:"Escribe las enfermedades"},model:{value:e.datosContacto.enfermedad,callback:function(t){e.$set(e.datosContacto,"enfermedad",t)},expression:"datosContacto.enfermedad"}}):e._e(),e._v(" "),a("v-switch",{attrs:{label:"¿Tiene seguro?"},model:{value:e.datosContacto.tieneSeguro,callback:function(t){e.$set(e.datosContacto,"tieneSeguro",t)},expression:"datosContacto.tieneSeguro"}}),e._v(" "),e.datosContacto.tieneSeguro?a("v-text-field",{attrs:{label:"Escribe las institución de seguro"},model:{value:e.datosContacto.institucion,callback:function(t){e.$set(e.datosContacto,"institucion",t)},expression:"datosContacto.institucion"}}):e._e(),e._v(" "),a("v-text-field",{attrs:{label:"Nombre completo de contacto",rules:e.reglasForm},model:{value:e.datosContacto.nombreContacto,callback:function(t){e.$set(e.datosContacto,"nombreContacto",t)},expression:"datosContacto.nombreContacto"}}),e._v(" "),a("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datosContacto.telefonoContacto,callback:function(t){e.$set(e.datosContacto,"telefonoContacto",t)},expression:"datosContacto.telefonoContacto"}})],1),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.formDatosContacto},on:{click:function(t){e.e6=3}}},[e._v("\n          Continuar\n        ")]),e._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.e6=1}}},[e._v(" Regresar ")])],1)],1),e._v(" "),a("v-stepper-step",{attrs:{complete:e.e6>3,step:"3"}},[e._v("\n      Foto\n      "),a("small",[e._v("Escoge alguna foto del miembro")])]),e._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{staticClass:"mb-12"},[a("v-file-input",{attrs:{rules:e.reglaImagen,accept:"image/png, image/jpeg, image/bmp",placeholder:"Selecciona una imagen","prepend-icon":"mdi-camera",label:"Foto",type:"file"},on:{change:e.onSeleccionarImagen},model:{value:e.imagen,callback:function(t){e.imagen=t},expression:"imagen"}}),e._v(" "),a("div",{staticClass:"d-flex flex-column justify-space-between align-center"},[a("img",{attrs:{src:e.imagenUrl,alt:"","aspect-ratio":"16/9",width:"300"}})]),e._v(" "),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{color:"primary","x-large":""},on:{click:e.registrar}},[e._v(" Registrar ")]),e._v(" "),a("v-btn",{attrs:{text:"","x-large":""},on:{click:function(t){e.e6=2}}},[e._v(" Regresar ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},ue=a("VU/8")(ce,me,!1,null,null,null).exports,de={name:"EditarMiembro",components:{FormMiembro:ue},data:function(){return{cargando:!1,datosMiembro:{datosPersonales:null,datosContacto:null},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){var e=this;this.cargando=!0;var t={metodo:"obtener_id",id:this.$route.params.id};M.obtenerConDatos(t,"miembros.php").then(function(t){e.datosMiembro.datosPersonales={nombre:t.nombre,cedula:t.cedula,telefono:t.telefono,direccion:t.direccion,edad:t.edad},e.datosMiembro.datosContacto={sufreEnfermedad:t.sufreEnfermedad,tieneSeguro:t.tieneSeguro,enfermedad:t.enfermedad,institucion:t.institucion,nombreContacto:t.nombreContacto,telefonoContacto:t.telefonoContacto},e.datosMiembro.imagen=t.imagen,e.cargando=!1})},methods:{onEditar:function(e){var t=this,a=e.imagen.includes("data:image");a||(e.imagen=e.imagen.split("api/")[1]),e.imagenCambia=a,e.id=this.$route.params.id,this.cargando=!0;var o={metodo:"editar",miembro:e};M.registrar(o,"miembros.php").then(function(e){e&&(t.mostrarMensaje=!0,t.mensaje.texto="Información de miembro actualizada",t.mensaje.color="success",setTimeout(function(){return t.$router.push({name:"Miembros"})},1e3),t.cargando=!1)})}}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Editar miembro")]),e._v(" "),a("form-miembro",{attrs:{miembro:e.datosMiembro},on:{registrado:e.onEditar}}),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]},ge=a("VU/8")(de,ve,!1,null,null,null).exports,be={name:"Usuarios",components:{DialogoEliminar:$},data:function(){return{cargando:!1,mostrarDialogoEliminar:!1,usuario:{},usuarios:[],encabezadoTabla:[{text:"Usuario",sortable:!0,value:"usuario"},{text:"Nombre",sortable:!0,value:"nombre"},{text:"telefono",value:"telefono"},{text:"Rol",value:"rol"},{text:"Opciones",value:"opciones",sortable:!1}],itemSeleccionado:"",mensaje:{texto:"",color:""},mostrarMensaje:!1}},mounted:function(){this.obtenerUsuarios()},methods:{editar:function(e){this.$router.push({name:"EditarUsuario",params:{id:e}})},eliminar:function(e){this.itemSeleccionado=e.nombre,this.usuario=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.usuario={}},confirmarEliminar:function(){var e=this;this.cargando=!0;var t={metodo:"delete",id:this.usuario.id};M.eliminar("usuarios.php",t).then(function(t){t&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Usuario eliminado",e.mensaje.color="success",e.cargando=!1,e.obtenerUsuarios())})},obtenerUsuarios:function(){var e=this;this.cargando=!0;M.obtenerConDatos({metodo:"get"},"usuarios.php").then(function(t){e.usuarios=t,e.cargando=!1})}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Usuarios")]),e._v(" "),a("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:"",to:"/nuevo-usuario"}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.usuarios,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.opciones",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(t){return e.editar(o.id)}}},[e._v("\n            mdi-pencil\n        ")]),e._v(" "),a("v-icon",{attrs:{color:"red"},on:{click:function(t){return e.eliminar(o)}}},[e._v("\n            mdi-delete\n        ")])]}}],null,!0)}),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(t){e.mostrarDialogoEliminar=t},expression:"mostrarDialogoEliminar"}},[a("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},pe=a("VU/8")(be,fe,!1,null,null,null).exports,he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-forward")])]},proxy:!0}])})},staticRenderFns:[]},_e={name:"NuevoMiembro",components:{FormMiembro:ue,Breadcrumbs:a("VU/8")({name:"Breadcrumbs",props:["items"]},he,!1,null,null,null).exports,RealizarPago:L,CredencialMiembro:Q},data:function(){return{mostrarMensaje:!1,mensaje:{color:"",texto:""},miembro:{},mostrarMiembroRegistrado:!1,mostrarRealizarPago:!1,mostrarCredencial:!1,matricula:"",cargando:!1,datosMiembro:{datosPersonales:{nombre:"",cedula:"",telefono:"",direccion:"",edad:0},datosContacto:{sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""},imagen:null}}},methods:{generarCredencial:function(){var e=this;M.obtenerConDatos({metodo:"obtener_imagen",matricula:this.matricula},"miembros.php").then(function(t){e.miembro.imagen=t.imagen,e.miembro.fechaRegistro=(new Date).toLocaleDateString(),e.mostrarCredencial=!0})},onImpreso:function(e){this.mostrarCredencial=e},onRegistrado:function(e){var t=this;this.miembro=e;var a={metodo:"registrar",miembro:this.miembro};console.log(this.miembro),this.cargando=!0,M.registrar(a,"miembros.php").then(function(e){console.log(e),e&&(t.matricula=e,t.mostrarMiembroRegistrado=!0,t.cargando=!1)})},realizarPago:function(){this.mostrarMiembroRegistrado=!1,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito"})},cerrarDialogoPago:function(e){this.mostrarRealizarPago=e}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Registrar miembro")]),e._v(" "),a("breadcrumbs",{attrs:{items:[{text:"Inicio",href:"/"},{text:"Miembros",href:"/#/miembros"}]}}),e._v(" "),a("form-miembro",{attrs:{miembro:e.datosMiembro},on:{registrado:e.onRegistrado}}),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarMiembroRegistrado,callback:function(t){e.mostrarMiembroRegistrado=t},expression:"mostrarMiembroRegistrado"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Miembro registrado ")]),e._v(" "),a("v-card-text",[e._v("\n        El miembro ha sido registrado con la matricula "+e._s(e.matricula)+". Puedes\n        pagar la membresía en este momento o en la primera visita.\n      ")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.generarCredencial}},[e._v("\n          Generar credencial\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.realizarPago}},[e._v("\n          Realizar pago\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.mostrarMiembroRegistrado=!1}}},[e._v("\n          Salir\n        ")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(t){e.mostrarRealizarPago=t},expression:"mostrarRealizarPago"}},[a("realizar-pago",{attrs:{matricula:e.matricula},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),e.mostrarCredencial?a("credencial-miembro",{attrs:{matricula:e.matricula,miembro:e.miembro},on:{impreso:e.onImpreso}}):e._e(),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{size:"64"}})],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")])],1)},staticRenderFns:[]},Ce=a("VU/8")(_e,xe,!1,null,null,null).exports,Me={name:"FormUsuario",props:["usuario"],data:function(){return{formValido:!1,formHasErrors:!1,reglas:[function(e){return!!e||"Debes llenar este campo."}],rols:[],cargando:!1}},mounted:function(){this.formValido=!1,this.rols=["ADMINISTRADOR","RECEPCIONISTA"]},methods:{registrar:function(){var e=this;this.formHasErrors=!1,i()(this.form).forEach(function(t){e.form[t]||(e.formHasErrors=!0)}),this.$emit("registrado",this.usuario),this.formValido=!1}},computed:{form:function(){return{usuario:this.usuario.usuario,nombre:this.usuario.nombre,telefono:this.usuario.telefono,rol:this.usuario.rol}}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-form",{ref:"form",model:{value:e.formValido,callback:function(t){e.formValido=t},expression:"formValido"}},[a("v-card",{staticClass:"mx-auto",attrs:{elevation:"5"}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Nombre de usuario",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}}),e._v(" "),a("v-text-field",{attrs:{label:"Nombre completo",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}}),e._v(" "),a("v-text-field",{attrs:{label:"Teléfono",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.telefono,callback:function(t){e.$set(e.usuario,"telefono",t)},expression:"usuario.telefono"}}),e._v(" "),a("v-select",{attrs:{hint:""+e.usuario.rol,items:e.rols,"item-text":"nombre","item-value":"nombre",label:"Selecciona un rol","persistent-hint":"","return-object":"","single-line":""},model:{value:e.usuario.rol,callback:function(t){e.$set(e.usuario,"rol",t)},expression:"usuario.rol"}})],1),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$router.push({name:"Usuarios"})}}},[e._v(" Cancelar ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.formValido},on:{click:e.registrar}},[e._v("\n          Registrar\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},Pe=a("VU/8")(Me,ke,!1,null,null,null).exports,we={name:"NuevoUsuario",components:{FormUsuario:Pe},data:function(){return{cargando:!1,usuario:{usuario:"",nombre:"",telefono:"",rol:""},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},methods:{onRegistrado:function(e){var t=this;this.cargando=!0,this.usuario=e;var a={metodo:"registrar",usuario:this.usuario};M.registrar(a,"usuarios.php").then(function(e){e&&(t.mostrarMensaje=!0,t.mensaje.texto="Usuario registrado",t.mensaje.color="success",t.cargando=!1,t.usuario={usuario:"",nombre:"",telefono:"",rol:""})})}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),a("h1",[e._v("Registrar usuario")]),e._v(" "),a("form-usuario",{attrs:{usuario:e.usuario},on:{registrado:e.onRegistrado}})],1)},staticRenderFns:[]},Se=a("VU/8")(we,Re,!1,null,null,null).exports,Ee={name:"EditarUsuario",components:{FormUsuario:Pe},data:function(){return{cargando:!1,usuario:{},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){var e=this;this.cargando=!0;var t={metodo:"un_usuario",id:this.$route.params.id};M.obtenerConDatos(t,"usuarios.php").then(function(t){e.usuario=t,e.cargando=!1})},methods:{onRegistrado:function(e){var t=this;this.cargando=!0,this.usuario=e;var a={metodo:"put",usuario:this.usuario};M.registrar(a,"usuarios.php").then(function(e){e&&(t.mostrarMensaje=!0,t.mensaje.texto="Información de usuario actualizada",t.mensaje.color="success",setTimeout(function(){return t.$router.push({name:"Usuarios"})},1e3),t.cargando=!1)})}}},De={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Editar usuario")]),e._v(" "),a("form-usuario",{attrs:{usuario:e.usuario},on:{registrado:e.onRegistrado}}),e._v(" "),a("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},je=a("VU/8")(Ee,De,!1,null,null,null).exports,ye=a("d7EF"),Ue=a.n(ye),Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.fechas,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.fechas=t},"update:return-value":function(t){e.fechas=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Selecciona un periodo","prepend-icon":"mdi-calendar","first-day-of-week":1,locale:"es-se"},model:{value:e.fechas,callback:function(t){e.fechas=t},expression:"fechas"}},"v-text-field",r,!1),o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),a("v-date-picker",{attrs:{range:"","no-title":"",scrollable:""},model:{value:e.fechas,callback:function(t){e.fechas=t},expression:"fechas"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.buscar}},[e._v(" Buscar ")])],1)],1)},staticRenderFns:[]},Ve=a("VU/8")({name:"PeriodoBusqueda",data:function(){return{fechas:[],menu:!1}},methods:{buscar:function(){this.$emit("buscar",this.fechas),this.menu=!1}}},Ie,!1,null,null,null).exports,Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"display-1"},[e._v(e._s(e.titulo))]),e._v(" "),a("div",{staticClass:"row"},e._l(e.totales,function(t,o){return a("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[a("div",{staticClass:"v-card--material pa-3 v-card--material-stats v-card v-sheet theme--light v-card--material--has-heading"},[a("div",{staticClass:"d-flex grow flex-wrap"},[a("div",{staticClass:"text-start v-card--material__heading mb-n6 v-sheet  elevation-6  pa-7",class:e.color,staticStyle:{"max-height":"70px",width:"auto"}},[a("v-icon",{attrs:{large:"",color:"white"}},[e._v("\n                    "+e._s(e.icono)+"\n                    ")])],1),e._v(" "),a("div",{staticClass:"ml-6"},[a("div",{staticClass:"ml-auto text-right"},[a("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                            "+e._s(t.nombre)+"\n                        ")]),e._v(" "),a("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v(e._s(t.total)+"\n                            "),a("small")])])])])])])}),0)])},staticRenderFns:[]},ze=a("VU/8")({name:"CartasTotales",props:["totales","titulo","icono","color"]},Fe,!1,null,null,null).exports,$e={name:"CartasTotalesMiembros",props:["totales","titulo"],data:function(){return{numeroMayor:0}},mounted:function(){this.numeroMayor=this.totales[0].total},methods:{urlImagen:function(e){return u.generarURL(e)},numeroEstrellas:function(e){return parseFloat(5*e/this.numeroMayor)}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"display-1"},[e._v(e._s(e.titulo))]),e._v(" "),a("div",{staticClass:"row"},e._l(e.totales,function(t,o){return a("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[a("div",{staticClass:"v-card--material pa-3 v-card--material-stats v-card v-sheet theme--light v-card--material--has-heading"},[a("div",{staticClass:"d-flex grow flex-wrap"},[a("v-avatar",{attrs:{size:"90"}},[a("v-img",{attrs:{src:e.urlImagen(t.imagen)}})],1),e._v(" "),a("div",{staticClass:"ml-6"},[a("div",{staticClass:"ml-auto text-right"},[a("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                            "+e._s(t.nombre)+"\n                            "),a("br"),e._v(" "),a("small",[e._v(e._s(t.matricula))])]),e._v(" "),a("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v(e._s(t.total)+"\n                            "),a("small")])])])],1),e._v(" "),e._m(0,!0),e._v(" "),a("v-rating",{attrs:{color:"warning",value:e.numeroEstrellas(t.total),"half-increments":"",readonly:""}})],1)])}),0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"px-0 col col-12"},[t("hr",{staticClass:"v-divider theme--light",attrs:{role:"separator","aria-orientation":"horizontal"}})])}]},Ae=a("VU/8")($e,qe,!1,null,null,null).exports,Te={name:"Pagos",components:{PeriodoBusqueda:Ve,CartasTotales:ze,CartasTotalesMiembros:Ae},data:function(){return{busqueda:"",cargando:!1,pagos:[],recepcionistas:[],encabezadoTabla:[{text:"Imagen",sortable:!0,value:"imagen"},{text:"Miembro",sortable:!0,value:"nombre"},{text:"Cédula",sortable:!0,value:"cedula"},{text:"Fecha",sortable:!0,value:"fecha"},{text:"Monto pagado",sortable:!0,value:"monto"},{text:"Método de pago",sortable:!0,value:"metodo_pago"},{text:"Membresía pagada",sortable:!0,value:"membresia"},{text:"Cobró",sortable:!0,value:"usuario"}],filtros:{fechaInicio:null,fechaFin:null},totalPagos:0,totalesMembresias:[],totalesUsuarios:[],totalesMiembros:[],rolUsuario:localStorage.getItem("rolUsuario")}},mounted:function(){this.obtenerPagos(),this.obtenerRecepcionistas()},methods:{onBuscar:function(e){console.log(e),this.filtros={fechaInicio:e[0],fechaFin:e[1]},this.obtenerPagos()},urlImagen:function(e){return u.generarURL(e)},obtenerPagos:function(){var e=this;this.cargando=!0;var t={metodo:"obtener",filtros:this.filtros};M.obtenerConDatos(t,"pagos.php").then(function(t){console.log(t),e.pagos=t.pagos,e.totalPagos=t.totalPagos,e.totalesMembresias=t.totalesMembresias,e.totalesUsuarios=t.totalesUsuario,e.totalesMiembros=t.totalesMiembros,console.log(t),e.cargando=!1})},obtenerRecepcionistas:function(){var e=this;M.obtenerConDatos({metodo:"get"},"usuarios.php").then(function(t){console.log(t),t.forEach(function(t){e.recepcionistas.push(t.usuario)})})},imprimirElemento:function(e){var t=window.open("","PRINT","height=800,width=800");return t.document.write("<html><head><title>Reporte de pagos</title>"),t.document.write("<style>\n            * {\n                margin-top: 0;\n                font-size: 12px;\n                font-family: 'Times New Roman';\n            }\n\n            body{\n                margin: 0;\n                position: relative;\n                min-height: 100vh;\n            }\n\n            .img{\n                width: 100px;\n            }\n\n\n            td,\n            th,\n            tr,\n            table {\n                padding: 2px;\n                /* border-top: 1px solid rgb(27, 25, 25); */\n                border-collapse: collapse;\n                width: 60em;\n            }\n\n            th.titulo{\n                font-size: 25px;\n            }\n            td.descripcion{\n                padding: 5px;\n                font-size: 10px;\n                max-width: 150px;\n            }\n\n            th.numero,\n            td.numero{\n                padding: 5px;\n                width: auto;\n                max-width: 150px;\n            }\n\n            .table-totales{\n                padding: 2px;\n                position: absolute;\n                bottom: 15em;\n                width: 60em;\n            }\n\n            .text__left{\n                text-align: left;\n            }\n            .text__right{\n                text-align: right;\n            }\n\n            tr.border {\n                border-top: 1px solid rgb(27, 25, 25);\n                border-bottom: 1px solid rgb(27, 25, 25);\n            }\n\n            .red{\n                color: brown;\n            }\n\n            .centrado {\n                margin: 0%;\n                text-align: center;\n                align-content: center;\n            }\n            img {\n                max-width: 100px;\n                width: 100px;\n                margin: 0%;\n                margin-bottom: 0%;\n                padding-left: 0%;\n            }\n\n            </style>"),t.document.write("</head><body >"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.focus(),t.print(),t.close(),!0},reporteHtml:function(e,t){var a=this,o="",r=0,s=(new Date).toLocaleString("ves",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.forEach(function(e){var t=e.fecha.split(" ")[0].split("-"),s=Ue()(t,3),n=s[0],i=s[1],l=s[2],c=new Date(n,i-1,l).toLocaleString("ves",{weekday:"long"});a.busqueda?a.busqueda.toUpperCase()==e.usuario.toUpperCase()&&(o+='\n                                    <tr>\n                                        <td class="text__left "> '+e.membresia+'</td>\n                                        <td class="text__left">  '+c+'</td>\n                                        <td class="text__left ">'+e.fecha.split(" ")[0]+'</td>\n                                        <td class="text__left ">\n                                            '+e.nombre.toUpperCase()+" <br> C.I.: "+e.cedula+'\n                                        </td>\n                                        <td class="text__left">'+e.usuario.toUpperCase()+'</td>\n                                        <td class="text__left">'+e.metodo_pago+'</td>\n                                        <td class="text__right">'+e.monto+"</td>\n                                    </tr> \n                            ",r+=parseFloat(e.monto)):(o+='\n                                <tr>\n                                    <td class="text__left "> '+e.membresia+'</td>\n                                    <td class="text__left">  '+c+'</td>\n                                    <td class="text__left ">'+e.fecha.split(" ")[0]+'</td>\n                                    <td class="text__left ">\n                                        '+e.nombre.toUpperCase()+" <br> C.I.: "+e.cedula+'\n                                    </td>\n                                    <td class="text__left">'+e.usuario.toUpperCase()+'</td>\n                                    <td class="text__left">'+e.metodo_pago+'</td>\n                                    <td class="text__right">'+e.monto+"</td>\n                                </tr> \n                        ",r+=parseFloat(e.monto))}),'\n                <table class="table">\n                        <thead>\n                            <tr>\n                                <th colspan="1"><img src="'+u.generarURL(localStorage.getItem("logoGimnasio"))+'" alt="logo" ></th>\n                                <th colspan="6" class="text__left titulo">REPORTE DE PAGOS</th>\n                            </tr>\n                            <tr class="border">\n                                <th colspan="3" class="text__left">\n                                    QUIEN EMITIO EL REPORTE: '+localStorage.getItem("nombreUsuario").toUpperCase()+'\n                                </th>\n                                <th colspan="4" class="text__right">TIPO DE REPORTE | \n                                    <span class="red">\n                                        '+(t.fechaFin?"POR RANGO DE FECHA":"DEL DÍA")+'\n                                    </span>\n                                </th>\n                            </tr>\n                            <tr>\n                                <th colspan="7" class="text__left">\n                                    FECHA DE EMISIÓN DEL REPORTE:\n                                </th>\n                            </tr>\n                            <tr>\n                                <th colspan="7" class="text__left">\n                                    '+s+'\n                                </th>\n                            </tr>\n                            <tr>\n                                <th colspan="7" class="text__left">\n                                    RANGO DE FECHA DEL REPORTE:\n                                </th>\n                            </tr>\n                            <tr>\n                                <th colspan="7" class="text__left">\n                                    DE: '+(t.fechaFin?t.fechaInicio+" HASTA: "+t.fechaFin:t.fechaInicio)+'\n                                </th>\n                            </tr>\n                            <tr class="border">\n                                <th class="text__left ">MEMBRESIA</th>\n                                <th class="text__left">DÍA</th>\n                                <th class="text__left ">FECHA</th>\n                                <th class="text__left ">CLIENTE</th>\n                                <th class="text__left ">RECEPCIONISTA</th>\n                                <th class="text__left ">MÉTODO DE PAGO</th>\n                                <th class="text__right ">SUBTOTAL</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        \n                           '+o+'\n                        </tbody>\n                        <tfoot>\n                            <tr class="border">\n                                <td colspan="6" class="text__right">TOTAL: </td>\n                                <td colspan="1" class="text__right">'+r+" USD</td>\n                            </tr>\n                        </tfoot>\n\n                        \n                    </table>\n                "},imprimirReporte:function(){console.log("imprimiendo reporte"),console.log(this.busqueda),this.imprimirElemento(this.reporteHtml(this.pagos,this.filtros))}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Pagos "),a("span",{staticClass:"indigo--text display-1"},[e._v(" $"+e._s(e.totalPagos))])]),e._v(" "),a("periodo-busqueda",{on:{buscar:e.onBuscar}}),e._v(" "),a("v-card",{staticClass:"mt-3"},[a("v-card-title",[e._v("\n            Pagos realizados: \n            "),e.filtros.fechaInicio?e._e():a("b",[e._v(" hoy")]),e._v(" "),e.filtros.fechaInicio?a("b",[e._v(" "+e._s(e.filtros.fechaInicio)+" al "+e._s(e.filtros.fechaFin))]):e._e(),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}}),e._v(" "),a("v-select",{attrs:{clearable:"",label:"Filtre por recepcionista",items:e.recepcionistas,variant:"solo-inverted"},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}})],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.pagos,search:e.busqueda,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(t){var o=t.item;return[o.imagen?a("v-avatar",[a("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})]):e._e()]}}],null,!0)},[e._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                    No se han encontrado datos.\n                ")])],1)],2),e._v(" "),a("v-btn",{staticClass:"my-2",attrs:{color:"success"},on:{click:e.imprimirReporte}},[e._v("\n            IMPRIMIR REPORTE\n        ")])],1),e._v(" "),"ADMINISTRADOR"==e.rolUsuario?[e.pagos.length>0?a("cartas-totales",{attrs:{totales:e.totalesMembresias,titulo:"Pagos realizados por membresía",icono:"mdi-currency-usd",color:"deep-orange darken-1"}}):e._e(),e._v(" "),e.pagos.length>0?a("cartas-totales",{staticClass:"mt-3",attrs:{totales:e.totalesUsuarios,titulo:"Pagos realizados por usuario",icono:"mdi-account-cash",color:"green darken-3"}}):e._e(),e._v(" "),e.pagos.length>0?a("cartas-totales-miembros",{staticClass:"mt-3",attrs:{totales:e.totalesMiembros,titulo:"Pagos realizados por miembros"}}):e._e()]:e._e(),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},staticRenderFns:[]},Ne=a("VU/8")(Te,Oe,!1,null,null,null).exports,Le={name:"RegistrarVisita",components:{BusquedaMiembro:W,RealizarPago:L},data:function(){return{miembro:null,mostrarRegistrarVisita:!1,mostrarRealizarPago:!1,mostrarDialogoRegular:!1,cargando:!1,mensaje:{},mostrarMensaje:!1,matricula:"",pagoVisita:""}},methods:{registrarVisitaRegular:function(){var e=this;this.pagoVisita&&(console.log(this.pagoVisita),this.cargando=!0,M.registrar({metodo:"registrar_regular",visita:{idUsuario:localStorage.getItem("idUsuario"),pago:this.pagoVisita}},"visitas.php").then(function(t){t&&(e.cargando=!1,e.mostrarDialogoRegular=!1,e.mostrarMensaje=!0,e.mensaje={texto:"Visita regular registrar",color:"success"})}))},abrirRealizarPago:function(){this.matricula=this.miembro.matricula,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito, Ahora puedes registrar la visita"},this.miembro=null)},cerrarDialogoPago:function(){this.mostrarRealizarPago=!1},cerrarDialogo:function(){this.mostrarRegistrarVisita=!1},registrar:function(){var e=this;this.cargando=!0;var t={metodo:"registrar",visita:{idMiembro:this.miembro.id,idMembresia:this.miembro.idMembresia,idUsuario:localStorage.getItem("idUsuario")}};M.registrar(t,"visitas.php").then(function(t){t&&(e.mostrarMensaje=!0,e.mensaje={texto:"Visita registrada",color:"success"},e.miembro=null,e.mostrarRegistrarVisita=!1,e.cargando=!1)})},abrirRegistrarVisita:function(){this.mostrarRegistrarVisita=!0},urlImagen:function(e){return u.generarURL(e)},onMiembroSeleccionado:function(e){this.miembro=e},estado:function(e){return"ACTIVO"===e?"success":"VENCIDO"===e?"error":"warning"}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("busqueda-miembro",{on:{seleccionado:e.onMiembroSeleccionado}}),e._v(" "),e.miembro?e._e():a("v-card",{staticClass:"mx-auto mt-3 px-5"},[a("v-card-title",[e._v("Escribe el nombre o matrícula del miembro o registra una visita\n      regular para aquellas personas que solo van una o dos veces a la semana.")]),e._v(" "),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{"x-large":"",color:"indigo",dark:""},on:{click:function(t){e.mostrarDialogoRegular=!0}}},[a("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n        Registrar visita regular\n      ")],1)],1)],1),e._v(" "),e.miembro?a("v-card",{staticClass:"mx-auto mt-3",attrs:{"max-width":"400","aspect-ratio":"16/9"}},[a("v-img",{attrs:{src:e.urlImagen(e.miembro.imagen),height:"200px"}}),e._v(" "),a("v-card-title",[e._v("\n      "+e._s(e.miembro.nombre)+"\n    ")]),e._v(" "),a("v-card-subtitle",[e._v(" Matrícula: "+e._s(e.miembro.matricula)+" ")]),e._v(" "),a("v-card-text",[a("v-chip",{staticClass:"ma-2",attrs:{color:e.estado(e.miembro.estado),"text-color":"white"}},[e._v("\n        "+e._s(e.miembro.estado)+"\n        "),e.miembro.estado?e._e():a("span",[e._v("SIN MEMBRESÍA")])]),e._v(" "),a("v-list",{attrs:{"two-line":""}},[e.miembro.membresia?a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-wallet-membership ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("\n              "+e._s(e.miembro.membresia)+"\n            ")]),e._v(" "),a("v-list-item-subtitle",[e._v("Válida hasta "+e._s(e.miembro.fechaFin)+"\n            ")])],1)],1):e._e()],1)],1),e._v(" "),a("v-card-actions",["ACTIVO"===e.miembro.estado?a("div",{staticClass:"mx-auto"},[a("v-btn",{attrs:{"x-large":"",color:"primary",dark:""},on:{click:e.abrirRegistrarVisita}},[a("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n          Registrar visita\n        ")],1)],1):e._e(),e._v(" "),e.miembro.membresia&&"VENCIDO"!==e.miembro.estado?e._e():a("div",{staticClass:"mx-auto"},[a("v-btn",{attrs:{"x-large":"",color:"warning",dark:""},on:{click:e.abrirRealizarPago}},[a("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n          Actualizar membresía\n        ")],1)],1)])],1):e._e(),e._v(" "),e.miembro?a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.mostrarRegistrarVisita,callback:function(t){e.mostrarRegistrarVisita=t},expression:"mostrarRegistrarVisita"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("¿Registrar visita del miembro "+e._s(e.miembro.nombre)+"?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("Cancelar\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",loading:e.cargando,text:"",disabled:e.cargando},on:{click:e.registrar},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",[e._v("Registrando...")])]},proxy:!0}],null,!1,3974384209)},[e._v("\n          Registrar visita\n          ")]),e._v(" "),a("v-spacer")],1)],1)],1):e._e(),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(t){e.mostrarRealizarPago=t},expression:"mostrarRealizarPago"}},[a("realizar-pago",{attrs:{matricula:e.matricula},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")]),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mostrarDialogoRegular,callback:function(t){e.mostrarDialogoRegular=t},expression:"mostrarDialogoRegular"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Registrar visita regular")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-text-field",{attrs:{label:"Escribe el pago de la visita",required:""},model:{value:e.pagoVisita,callback:function(t){e.pagoVisita=t},expression:"pagoVisita"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.mostrarDialogoRegular=!1}}},[e._v("\n          Cerrar\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.cargando,disabled:e.cargando},on:{click:e.registrarVisitaRegular},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",[e._v("Registrando...")])]},proxy:!0}])},[e._v("\n          Registrar\n          ")])],1)],1)],1)],1)},staticRenderFns:[]},Be=a("VU/8")(Le,Ge,!1,null,null,null).exports,He={name:"Visitas",components:{PeriodoBusqueda:Ve,CartasTotales:ze,CartasTotalesMiembros:Ae},data:function(){return{busqueda:"",cargando:!1,visitas:[],encabezadoTabla:[{text:"Imagen",sortable:!0,value:"imagen"},{text:"Miembro",sortable:!0,value:"nombre"},{text:"Matrícula",sortable:!0,value:"matricula"},{text:"Fecha",sortable:!0,value:"fecha"},{text:"Membresía ",sortable:!0,value:"membresia"},{text:"Usuario",sortable:!0,value:"usuario"}],filtros:{fechaInicio:null,fechaFin:null},totalesMembresias:[],totalesUsuarios:[],totalesMiembros:[]}},mounted:function(){this.obtenerVisitas()},methods:{onBuscar:function(e){console.log(e),this.filtros={fechaInicio:e[0],fechaFin:e[1]},this.obtenerVisitas()},urlImagen:function(e){return u.generarURL(e)},obtenerVisitas:function(){var e=this;this.cargando=!0;var t={metodo:"obtener",filtros:this.filtros};M.obtenerConDatos(t,"visitas.php").then(function(t){e.visitas=t.visitas,e.totalesMembresias=t.totalesMembresias,e.totalesUsuarios=t.totalesUsuarios,e.totalesMiembros=t.totalesMiembros,e.cargando=!1})}}},Je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Visitas "),a("span",{staticClass:"indigo--text display-1"},[e._v(" "+e._s(e.visitas.length))])]),e._v(" "),a("periodo-busqueda",{on:{buscar:e.onBuscar}}),e._v(" "),e.visitas.length>0?a("cartas-totales",{attrs:{totales:e.totalesMembresias,titulo:"Visitas registradas por membresía",icono:"mdi-wallet-membership",color:"deep-purple accent-4"}}):e._e(),e._v(" "),a("v-card",{staticClass:"mt-3"},[a("v-card-title",[e._v("\n            Visitas registradas: \n            "),e.filtros.fechaInicio?e._e():a("b",[e._v(" hoy")]),e._v(" "),e.filtros.fechaInicio?a("b",[e._v(" "+e._s(e.filtros.fechaInicio)+" al "+e._s(e.filtros.fechaFin))]):e._e(),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}})],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.visitas,search:e.busqueda,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(t){var o=t.item;return[o.imagen?a("v-avatar",[a("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})]):e._e()]}}],null,!0)},[e._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                    No se han encontrado datos :(\n                ")])],1)],2)],1),e._v(" "),e.visitas.length>0?a("cartas-totales",{attrs:{totales:e.totalesUsuarios,titulo:"Visitas registradas por usuarios",icono:"mdi-badge-account",color:"brown darken-4"}}):e._e(),e._v(" "),e.visitas.length>0?a("cartas-totales-miembros",{staticClass:"mt-3",attrs:{totales:e.totalesMiembros,titulo:"Miembros con ,mayores visitas"}}):e._e()],1)},staticRenderFns:[]},Qe=a("VU/8")(He,Je,!1,null,null,null).exports,Xe={name:"FormConfiguracion",props:["ajustes"],data:function(){return{formDatos:!1,imagenUrl:null,imagen:null,datos:{nombre:"",telefono:"",direccion:""},reglasForm:[function(e){return!!e||"Debes colocar este campo."}],reglaImagen:[function(e){return!e||e.size<5e6||"La foto debe pesar menos de 5 MB!"}]}},mounted:function(){this.datos=this.ajustes,this.imagenUrl=u.generarURL(this.ajustes.logo)},methods:{registrar:function(){this.datos.logo=this.imagenUrl,this.$emit("registrar",this.datos)},crearImagen:function(e){var t=this,a=new FileReader;a.onload=function(e){t.imagenUrl=e.target.result},a.readAsDataURL(e)},onSeleccionarImagen:function(){this.imagen&&this.crearImagen(this.imagen)}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",model:{value:e.formDatos,callback:function(t){e.formDatos=t},expression:"formDatos"}},[a("v-card",{staticClass:"mb-12 pa-3"},[a("v-text-field",{attrs:{label:"Nombre del gimnasio",rules:e.reglasForm},model:{value:e.datos.nombre,callback:function(t){e.$set(e.datos,"nombre",t)},expression:"datos.nombre"}}),e._v(" "),a("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datos.telefono,callback:function(t){e.$set(e.datos,"telefono",t)},expression:"datos.telefono"}}),e._v(" "),a("v-text-field",{attrs:{label:"Dirección",rules:e.reglasForm},model:{value:e.datos.direccion,callback:function(t){e.$set(e.datos,"direccion",t)},expression:"datos.direccion"}}),e._v(" "),a("v-file-input",{attrs:{rules:e.reglaImagen,accept:"image/png, image/jpeg, image/bmp",placeholder:"Selecciona una imagen","prepend-icon":"mdi-camera",label:"Logo",type:"file"},on:{change:e.onSeleccionarImagen},model:{value:e.imagen,callback:function(t){e.imagen=t},expression:"imagen"}}),e._v(" "),a("div",{staticClass:"d-flex flex-column justify-space-between align-center"},[a("img",{attrs:{src:e.imagenUrl,alt:"","aspect-ratio":"16/9",width:"300"}})]),e._v(" "),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{elevation:"14",color:"primary","x-large":"",disabled:!e.formDatos},on:{click:e.registrar}},[e._v(" Registrar ")])],1)],1)],1)},staticRenderFns:[]},We={name:"ConfiguracionComponent",components:{FormConfiguracion:a("VU/8")(Xe,Ye,!1,null,null,null).exports},data:function(){return{datosAjustes:null,cargando:!1,mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){this.obtenerAjustes()},methods:{onRegistrar:function(e){var t=this;this.cargando=!0;var a=e.logo.includes("data:image");a||(e.logo=e.logo.split("api/")[1]),e.logoCambia=a,console.log(e),M.registrar({metodo:"registrar",ajustes:e},"ajustes.php").then(function(e){e&&(t.mostrarMensaje=!0,t.mensaje={texto:"Información actualizada",color:"success"},t.cargando=!1,t.obtenerAjustes())})},obtenerAjustes:function(){var e=this;this.cargando=!0,M.obtenerConDatos({metodo:"obtener"},"ajustes.php").then(function(t){e.datosAjustes=t,console.log(t),e.cargando=!1})}}},Ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Configuración del sistema")]),e._v(" "),e.datosAjustes?a("form-configuracion",{attrs:{ajustes:e.datosAjustes},on:{registrar:e.onRegistrar}}):e._e(),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{size:"64"}})],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(t){e.mostrarMensaje=t},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},Ke=a("VU/8")(We,Ze,!1,null,null,null).exports,et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"white",elevation:"6","max-width":"calc(100% - 32px)"}},[a("v-sparkline",{attrs:{labels:e.etiquetas,value:e.valores,color:e.color,"line-width":"3",padding:"16"}})],1),e._v(" "),a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"text-h6 font-weight-light mb-2"},[e._v(e._s(e.titulo))]),e._v(" "),a("v-divider",{staticClass:"my-2"}),e._v(" "),a("span",{staticClass:"text-caption grey--text font-weight-light"},[e._v(e._s(e.subtitulo))]),e._v(" "),a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",e._l(e.etiquetas,function(t,o){return a("th",{key:o},[e._v(e._s(t))])}),0)]),e._v(" "),a("tbody",[a("tr",e._l(e.valores,function(t,o){return a("td",{key:o},[e._v(e._s(t))])}),0)])]},proxy:!0}])})],1)],1)},staticRenderFns:[]},tt={name:"InicioComponent",components:{CartasPersonalizadas:ae,SparklineComponent:a("VU/8")({name:"SparklineComponent",props:["etiquetas","valores","color","titulo","subtitulo"]},et,!1,null,null,null).exports},data:function(){return{cargando:!1,datosVisitas:[],datosPagos:[],etiquetasVisitasHora:[],valoresVisitasHora:[],etiquetasVisitasSemana:[],valoresVisitasSemana:[],etiquetasVisitasMes:[],valoresVisitasMes:[],etiquetasPagosSemana:[],valoresPagosSemana:[],etiquetasPagosMes:[],valoresPagosMes:[],etiquetasPagosMeses:[],valoresPagosMeses:[]}},mounted:function(){this.obtenerDatos()},methods:{obtenerDatos:function(){var e=this;this.cargando=!0,M.obtenerConDatos({metodo:"obtener"},"inicio.php").then(function(t){e.crearCartas(t.datosVisitas,t.datosPagos),e.etiquetasVisitasHora=u.obtenerClaves(t.visitasHora),e.valoresVisitasHora=u.obtenerValores(t.visitasHora);var a=u.cambiarDiaSemana(t.visitasSemana);e.etiquetasVisitasSemana=u.obtenerClaves(a),e.valoresVisitasSemana=u.obtenerValores(a),e.etiquetasVisitasMes=u.obtenerClaves(t.visitasMes),e.valoresVisitasMes=u.obtenerValores(t.visitasMes);var o=u.cambiarDiaSemana(t.pagosSemana);e.etiquetasPagosSemana=u.obtenerClaves(o),e.valoresPagosSemana=u.obtenerValoresPagos(o),e.etiquetasPagosMes=u.obtenerClaves(t.pagosMes),e.valoresPagosMes=u.obtenerValoresPagos(t.pagosMes);var r=u.cambiarNumeroANombreMes(t.pagosMeses);e.etiquetasPagosMeses=u.obtenerClaves(r),e.valoresPagosMeses=u.obtenerValoresPagos(r),e.cargando=!1})},crearCartas:function(e,t){this.datosVisitas=[{color:"pink darken-1",icono:"mdi-calendar",nombre:"Total de visitas al gym",total:e.visitasHoy}],this.datosPagos=[{color:"blue darken-1",icono:"mdi-currency-usd",nombre:"Total pagos",total:"$"+t.totalPagos},{color:"teal darken-1",icono:"mdi-calendar",nombre:"Pagos hoy",total:"$"+t.pagosHoy},{color:"green darken-1",icono:"mdi-calendar-range",nombre:"Pagos semana",total:"$"+t.pagosSemana},{color:"orange darken-1",icono:"mdi-calendar-month",nombre:"Pagos mes",total:"$"+t.pagosMes}]}}},at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("cartas-personalizadas",{attrs:{cartas:e.datosVisitas}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[a("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosSemana,valores:e.valoresPagosSemana,color:"green darken-1",titulo:"Pagos semana",subtitulo:"Pagos registrados esta semana"}})],1),e._v(" "),a("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[a("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosMes,valores:e.valoresPagosMes,color:"orange darken-1",titulo:"Pagos mes",subtitulo:"Pagos registrados este mes"}})],1),e._v(" "),a("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[a("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosMeses,valores:e.valoresPagosMeses,color:"blue darken-1",titulo:"Pagos por meses",subtitulo:"Pagos registrados por meses de este año"}})],1)]),e._v(" "),a("v-overlay",{attrs:{value:e.cargando}},[a("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]},ot=a("VU/8")(tt,at,!1,null,null,null).exports,rt={name:"MiPerfil",components:{CartasPersonalizadas:ae},data:function(){return{nombreUsuario:localStorage.getItem("nombreUsuario"),rolUsuario:localStorage.getItem("rolUsuario"),datosVisitas:[],datosPagos:[]}},mounted:function(){this.obtenerInformacion()},methods:{cambiarPassword:function(){this.$router.push({name:"CambiarPassword"})},obtenerInformacion:function(){var e=this;M.obtenerConDatos({metodo:"informacion_perfil",idUsuario:localStorage.getItem("idUsuario")},"usuarios.php").then(function(t){console.log(t),e.crearCartas(t.datosPagos)})},crearCartas:function(e){this.datosPagos=[{color:"blue darken-1",icono:"mdi-currency-usd",nombre:"Total pagos",total:"$"+e.totalPagos},{color:"teal darken-1",icono:"mdi-calendar",nombre:"Pagos hoy",total:"$"+e.pagosHoy},{color:"green darken-1",icono:"mdi-calendar-range",nombre:"Pagos semana",total:"$"+e.pagosSemana},{color:"orange darken-1",icono:"mdi-calendar-month",nombre:"Pagos mes",total:"$"+e.pagosMes}]}}},st={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Nombre del usuario: "+e._s(e.nombreUsuario))]),e._v(" "),a("h3",[e._v("Rol:"+e._s(e.rolUsuario))]),e._v(" "),a("v-btn",{staticClass:"my-3",attrs:{depressed:"",color:"primary"},on:{click:e.cambiarPassword}},[e._v("\n        Cambiar contraseña\n        ")])],1)},staticRenderFns:[]},nt=a("VU/8")(rt,st,!1,null,null,null).exports;s.default.use(I.a);var it=new I.a({routes:[{path:"/",name:"InicioComponent",component:ot},{path:"/membresias",name:"Membresias",component:T},{path:"/recepcion",name:"Recepcion",component:ne},{path:"/miembros",name:"Miembros",component:ee},{path:"/nuevo-miembro",name:"NuevoMiembro",component:Ce},{path:"/editar-miembro/:id",name:"EditarMiembro",component:ge},{path:"/usuarios",name:"Usuarios",component:pe},{path:"/nuevo-usuario",name:"NuevoUsuario",component:Se},{path:"/editar-usuario/:id",name:"EditarUsuario",component:je},{path:"/cambiar-password",name:"CambiarPassword",component:E},{path:"/pagos",name:"Pagos",component:Ne},{path:"/registrar-visita",name:"RegistrarVisita",component:Be},{path:"/visitas",name:"Visitas",component:Qe},{path:"/configurar",name:"Configurar",component:Ke},{path:"/perfil",name:"MiPerfil",component:nt}]}),lt=a("3EgV"),ct=a.n(lt);a("7zck"),a("csSS");s.default.use(ct.a),s.default.config.productionTip=!1;t.default=new ct.a({});new s.default({el:"#app",router:it,vuetify:new ct.a,components:{App:U},template:"<App/>"})},csSS:function(e,t){},qAis:function(e,t){},reXA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.21d420962709a5f4629a.js.map